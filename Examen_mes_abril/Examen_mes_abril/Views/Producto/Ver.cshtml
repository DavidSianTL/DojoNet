@model List<Examen_mes_abril.Models.ProductoViewModel>

@{
    ViewData["Title"] = "Listado de Productos";
}

<div class="container container-table" style="background-color:whitesmoke">
    <h2>Listado de Productos</h2>
    <a href="/Producto/Crear" class="btn btn-ver">Agregar</a>
    <a href="/Home/Menu" class="btn btn-dark">Regresar</a>

    <table class="table table-striped" ">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Descripcion</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Talla</th>
                <th>Color</th>
            </tr>
        </thead>
        <tbody>
    @foreach (var producto in Model)
    {
                <tr>
                    <td>@producto.Id</td>
                    <td>@producto.NombreProducto</td>
                    <td>@producto.Descripcion</td>
                    <td>@producto.Precio</td>
                    <td>@producto.Cantidad</td>
                    <td>@producto.Talla</td>
                    <td>@producto.Color</td>
                    <td>
                        <a href="/Producto/Editar/@producto.Id" class="btn btn-editar">Editar</a>
                        <a href="/Producto/Eliminar/@producto.Id" class="btn btn-eliminar">
                            <i class="fas fa-trash-alt"></i> Eliminar
                        </a>
                    </td>
                </tr>
    }
        </tbody>
    </table>
</div>
<script type="text/javascript">
    var sesionActiva = sessionStorage.getItem('sesionActiva');

    if (!sesionActiva || sesionActiva !== 'true') {
        // Borra sesión en el servidor
        window.location.href =  '@Url.Action("Login", "Login")';

    }

    var nombreSesion = '@(Context.Session.GetString("Correo"))';

    if (!nombreSesion || nombreSesion === '' || nombreSesion === 'null' || nombreSesion === 'undefined') {
        window.location.href = '@Url.Action("Login", "Login")';
    }

</script>
