@model Proyecto.Models.Producto

<h2>Editar Producto</h2>

<form asp-action="Edit" method="post" id="form-producto">
    @Html.AntiForgeryToken()
    <div class="form-group">
        <label for="Nombre">Nombre</label>
        <input type="text" class="form-control" id="Nombre" name="Nombre" value="@Model.Nombre" />
    </div>
    <div class="form-group">
        <label for="Precio">Precio</label>
        <input type="text" class="form-control" id="Precio" name="Precio" value="@Model.Precio" />
    </div>
    <div class="form-group">
        <label for="Cantidad">Cantidad</label>
        <input type="number" class="form-control" id="Cantidad" name="Cantidad" value="@Model.Cantidad" />
    </div>
    <button type="submit" class="btn btn-primary">Guardar</button>
</form>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.getElementById("form-producto").addEventListener("submit", function(e) {
            const nombre = document.getElementById("Nombre").value.trim();
            const precio = document.getElementById("Precio").value.trim();
            const cantidad = document.getElementById("Cantidad").value.trim();

            if (!nombre) {
                e.preventDefault();
                Swal.fire("Error", "El nombre es obligatorio", "error");
                return;
            }

            if (!precio || isNaN(precio) || parseFloat(precio) <= 0) {
                e.preventDefault();
                Swal.fire("Error", "Por favor, ingresa un precio válido mayor a 0", "error");
                return;
            }

            if (!cantidad || isNaN(cantidad) || parseInt(cantidad) <= 0) {
                e.preventDefault();
                Swal.fire("Error", "Por favor, ingresa una cantidad válida mayor a 0", "error");
                return;
            }
        });
    </script>
}
