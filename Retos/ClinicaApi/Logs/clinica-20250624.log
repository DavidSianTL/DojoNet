2025-06-24T13:33:58.5807819-06:00  [INF] User profile is available. Using '"/home/yann/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2025-06-24T13:33:58.8363032-06:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2025-06-24T13:33:58.8455421-06:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2025-06-24T13:33:58.8472880-06:00  [INF] Hosting environment: "Production" (bc5a1a4e)
2025-06-24T13:33:58.8481271-06:00  [INF] Content root path: "/home/yann/Desktop/DojoNet/DojoNet/Retos/ClinicaApi" (cc26f24e)
2025-06-24T13:34:17.6867455-06:00 0HNDJAOE0HEM0:00000001 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/pacientes/""" - null null (d509f86a)
2025-06-24T13:34:17.7452606-06:00 0HNDJAOE0HEM0:00000001 [WRN] Failed to determine the https port for redirect. (ca76cc21)
2025-06-24T13:34:18.1875276-06:00 0HNDJAOE0HEM0:00000001 [INF] Executing endpoint '"ClinicaApi.Controllers.PacientesController.Get (ClinicaApi)"' (500cc934)
2025-06-24T13:34:18.2848577-06:00 0HNDJAOE0HEM0:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Pacientes\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get()" on controller "ClinicaApi.Controllers.PacientesController" ("ClinicaApi"). (122b2fdf)
2025-06-24T13:34:18.2929012-06:00 0HNDJAOE0HEM0:00000001 [INF] Obteniendo lista de todos los pacientes (51bf8720)
2025-06-24T13:34:18.3157912-06:00 0HNDJAOE0HEM0:00000001 [INF] Obteniendo todos los pacientes (5c8be94a)
2025-06-24T13:34:20.6974483-06:00 0HNDJAOE0HEM0:00000001 [INF] Executing "OkObjectResult", writing value of type '"ApiResponse"'. (605b4265)
2025-06-24T13:34:20.9719229-06:00 0HNDJAOE0HEM0:00000001 [INF] Executed action "ClinicaApi.Controllers.PacientesController.Get (ClinicaApi)" in 2661.9891ms (afa2e885)
2025-06-24T13:34:20.9743250-06:00 0HNDJAOE0HEM0:00000001 [INF] Executed endpoint '"ClinicaApi.Controllers.PacientesController.Get (ClinicaApi)"' (99874f2b)
2025-06-24T13:34:21.0014874-06:00 0HNDJAOE0HEM0:00000001 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5000""""/api/pacientes/""" - 200 null "application/json; charset=utf-8" 3313.9164ms (74253ad3)
2025-06-24T13:34:47.7242536-06:00 0HNDJAOE0HEM0:00000002 [INF] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/citas/2""" - "application/json" 82 (d509f86a)
2025-06-24T13:34:47.7501025-06:00 0HNDJAOE0HEM0:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24/06/2025 18:32:40', Current time (UTC): '24/06/2025 19:34:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-24T13:34:47.7512529-06:00 0HNDJAOE0HEM0:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24/06/2025 18:32:40', Current time (UTC): '24/06/2025 19:34:47'." (48071232)
2025-06-24T13:34:47.7576184-06:00 0HNDJAOE0HEM0:00000002 [INF] Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user." (92d7f7d3)
2025-06-24T13:34:47.7881990-06:00 0HNDJAOE0HEM0:00000002 [INF] AuthenticationScheme: "Bearer" was challenged. (d45f1f38)
2025-06-24T13:34:47.7916093-06:00 0HNDJAOE0HEM0:00000002 [INF] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/citas/2""" - 401 0 null 67.2636ms (74253ad3)
2025-06-24T13:35:09.6766091-06:00 0HNDJAOE0HEM0:00000003 [INF] Request starting "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/citas/2""" - "application/json" 82 (d509f86a)
2025-06-24T13:35:09.6866496-06:00 0HNDJAOE0HEM0:00000003 [INF] Executing endpoint '"ClinicaApi.Controllers.CitasController.Put (ClinicaApi)"' (500cc934)
2025-06-24T13:35:09.8274776-06:00 0HNDJAOE0HEM0:00000003 [INF] Route matched with "{action = \"Put\", controller = \"Citas\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, ClinicaApi.Models.Cita)" on controller "ClinicaApi.Controllers.CitasController" ("ClinicaApi"). (122b2fdf)
2025-06-24T13:35:10.0395806-06:00 0HNDJAOE0HEM0:00000003 [INF] Actualizando cita ID 2 (d01f025c)
2025-06-24T13:35:10.0436544-06:00 0HNDJAOE0HEM0:00000003 [INF] Actualizando cita ID 2 (d01f025c)
2025-06-24T13:35:10.2562915-06:00 0HNDJAOE0HEM0:00000003 [INF] Executing "OkObjectResult", writing value of type '"ApiResponse"'. (605b4265)
2025-06-24T13:35:10.2613970-06:00 0HNDJAOE0HEM0:00000003 [INF] Executed action "ClinicaApi.Controllers.CitasController.Put (ClinicaApi)" in 433.4775ms (afa2e885)
2025-06-24T13:35:10.2616864-06:00 0HNDJAOE0HEM0:00000003 [INF] Executed endpoint '"ClinicaApi.Controllers.CitasController.Put (ClinicaApi)"' (99874f2b)
2025-06-24T13:35:10.2632811-06:00 0HNDJAOE0HEM0:00000003 [INF] Request finished "HTTP/1.1" "PUT" "http"://"localhost:5000""""/api/citas/2""" - 200 null "application/json; charset=utf-8" 586.5624ms (74253ad3)
2025-06-24T13:35:28.0085477-06:00  [INF] Application is shutting down... (90f52c38)
