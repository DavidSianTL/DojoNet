@model MiniReto_javaScript.Models.FormularioTienda

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Tienda Virtual :)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body class="container py-5">

    <h1 class="mb-4">Formulario de tienda virtual Kenzo :)</h1>

    <form id="formularioUsuario">
        <div class="mb-3">
            <label class="form-label">Correo</label>
            <input type="email" class="form-control" id="Correo" placeholder="example: papita@gmail.com" autocomplete="off">
        </div>
        <div class="mb-3">
            <label class="form-label">Contraseña</label>
            <input type="password" class="form-control" id="Contra" placeholder="Contraseña" autocomplete="off">
        </div>

        <!-- Productos en pares (2 por fila) -->
        <div class="row">
            @for (int i = 1; i <= 10; i++)
            {
                <div class="col-md-6 mb-3">
                    <label class="form-label">Producto @i</label>
                    <input type="text" class="form-control producto" placeholder="Ingrese el producto @i" autocomplete="off">
                </div>

                @* Insertar un <div class="w-100"></div> cada 2 productos para crear una nueva fila *@
                @if (i % 2 == 0)
                {
                    <div class="w-100"></div>
                }
            }
        </div>

        <button class="btn btn-primary" type="submit">Enviar</button>
    </form>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/js/sweetAlert.js"></script>

    <script>
        document.getElementById("formularioUsuario").addEventListener("submit", function (e) {
            e.preventDefault();

            let correo = document.getElementById("Correo").value.trim();
            let contra = document.getElementById("Contra").value;
            let productos = document.querySelectorAll(".producto");


            if (contr   a.length < 6) {
                mostrarAlertaError("La contraseña debe tener al menos 6 caracteres.");
                return;
            }

            for (let i = 0; i < productos.length; i++) {
                let nombreProducto = productos[i].value.trim();
                if (!/^[a-zA-Z]+$/.test(nombreProducto)) {
                    mostrarAlertaError(`El producto ${i + 1} solo puede contener letras.`);
                    return;
                }
            }

            mostrarAlertaExito("¡Formulario enviado correctamente!");
            document.getElementById("formularioUsuario").reset();
            document.getElementById("Correo").focus();
        });
    </script>
</body>
</html>
